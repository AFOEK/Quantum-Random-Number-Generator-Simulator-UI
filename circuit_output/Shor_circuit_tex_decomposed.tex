\documentclass[border=2px]{standalone}
        
\usepackage[braket, qm]{qcircuit}
\usepackage{graphicx}

\begin{document} 
\scalebox{1.0}{
\Qcircuit @C=1.0em @R=0.2em @!R { \\
	 	\nghost{ {up}_{0} :  } & \lstick{ {up}_{0} :  } & \gate{\mathrm{U_2}\,(\mathrm{0,\pi})} & \multigate{17}{\mathrm{cmult\_a\_mod\_N}}_<<<{0} & \qw & \qw & \qw & \qw & \qw & \qw & \qw & \multigate{7}{\mathrm{IQFT}}_<<<{0} & \qw & \qw\\ 
	 	\nghost{ {up}_{1} :  } & \lstick{ {up}_{1} :  } & \gate{\mathrm{U_2}\,(\mathrm{0,\pi})} & \ghost{\mathrm{cmult\_a\_mod\_N}} & \multigate{16}{\mathrm{cmult\_a\_mod\_N}}_<<<{0} & \qw & \qw & \qw & \qw & \qw & \qw & \ghost{\mathrm{IQFT}}_<<<{1} & \qw & \qw\\ 
	 	\nghost{ {up}_{2} :  } & \lstick{ {up}_{2} :  } & \gate{\mathrm{U_2}\,(\mathrm{0,\pi})} & \ghost{\mathrm{cmult\_a\_mod\_N}} & \ghost{\mathrm{cmult\_a\_mod\_N}} & \multigate{15}{\mathrm{cmult\_a\_mod\_N}}_<<<{0} & \qw & \qw & \qw & \qw & \qw & \ghost{\mathrm{IQFT}}_<<<{2} & \qw & \qw\\ 
	 	\nghost{ {up}_{3} :  } & \lstick{ {up}_{3} :  } & \gate{\mathrm{U_2}\,(\mathrm{0,\pi})} & \ghost{\mathrm{cmult\_a\_mod\_N}} & \ghost{\mathrm{cmult\_a\_mod\_N}} & \ghost{\mathrm{cmult\_a\_mod\_N}} & \multigate{14}{\mathrm{cmult\_a\_mod\_N}}_<<<{0} & \qw & \qw & \qw & \qw & \ghost{\mathrm{IQFT}}_<<<{3} & \qw & \qw\\ 
	 	\nghost{ {up}_{4} :  } & \lstick{ {up}_{4} :  } & \gate{\mathrm{U_2}\,(\mathrm{0,\pi})} & \ghost{\mathrm{cmult\_a\_mod\_N}} & \ghost{\mathrm{cmult\_a\_mod\_N}} & \ghost{\mathrm{cmult\_a\_mod\_N}} & \ghost{\mathrm{cmult\_a\_mod\_N}} & \multigate{13}{\mathrm{cmult\_a\_mod\_N}}_<<<{0} & \qw & \qw & \qw & \ghost{\mathrm{IQFT}}_<<<{4} & \qw & \qw\\ 
	 	\nghost{ {up}_{5} :  } & \lstick{ {up}_{5} :  } & \gate{\mathrm{U_2}\,(\mathrm{0,\pi})} & \ghost{\mathrm{cmult\_a\_mod\_N}} & \ghost{\mathrm{cmult\_a\_mod\_N}} & \ghost{\mathrm{cmult\_a\_mod\_N}} & \ghost{\mathrm{cmult\_a\_mod\_N}} & \ghost{\mathrm{cmult\_a\_mod\_N}} & \multigate{12}{\mathrm{cmult\_a\_mod\_N}}_<<<{0} & \qw & \qw & \ghost{\mathrm{IQFT}}_<<<{5} & \qw & \qw\\ 
	 	\nghost{ {up}_{6} :  } & \lstick{ {up}_{6} :  } & \gate{\mathrm{U_2}\,(\mathrm{0,\pi})} & \ghost{\mathrm{cmult\_a\_mod\_N}} & \ghost{\mathrm{cmult\_a\_mod\_N}} & \ghost{\mathrm{cmult\_a\_mod\_N}} & \ghost{\mathrm{cmult\_a\_mod\_N}} & \ghost{\mathrm{cmult\_a\_mod\_N}} & \ghost{\mathrm{cmult\_a\_mod\_N}} & \multigate{11}{\mathrm{cmult\_a\_mod\_N}}_<<<{0} & \qw & \ghost{\mathrm{IQFT}}_<<<{6} & \qw & \qw\\ 
	 	\nghost{ {up}_{7} :  } & \lstick{ {up}_{7} :  } & \gate{\mathrm{U_2}\,(\mathrm{0,\pi})} & \ghost{\mathrm{cmult\_a\_mod\_N}} & \ghost{\mathrm{cmult\_a\_mod\_N}} & \ghost{\mathrm{cmult\_a\_mod\_N}} & \ghost{\mathrm{cmult\_a\_mod\_N}} & \ghost{\mathrm{cmult\_a\_mod\_N}} & \ghost{\mathrm{cmult\_a\_mod\_N}} & \ghost{\mathrm{cmult\_a\_mod\_N}} & \multigate{10}{\mathrm{cmult\_a\_mod\_N}}_<<<{0} & \ghost{\mathrm{IQFT}}_<<<{7} & \qw & \qw\\ 
	 	\nghost{ {down}_{0} :  } & \lstick{ {down}_{0} :  } & \gate{\mathrm{U_3}\,(\mathrm{\pi,0,\pi})} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{1} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{1} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{1} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{1} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{1} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{1} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{1} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{1} & \qw & \qw & \qw\\ 
	 	\nghost{ {down}_{1} :  } & \lstick{ {down}_{1} :  } & \qw & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{2} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{2} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{2} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{2} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{2} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{2} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{2} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{2} & \qw & \qw & \qw\\ 
	 	\nghost{ {down}_{2} :  } & \lstick{ {down}_{2} :  } & \qw & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{3} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{3} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{3} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{3} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{3} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{3} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{3} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{3} & \qw & \qw & \qw\\ 
	 	\nghost{ {down}_{3} :  } & \lstick{ {down}_{3} :  } & \qw & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{4} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{4} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{4} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{4} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{4} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{4} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{4} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{4} & \qw & \qw & \qw\\ 
	 	\nghost{ {aux}_{0} :  } & \lstick{ {aux}_{0} :  } & \qw & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{5} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{5} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{5} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{5} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{5} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{5} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{5} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{5} & \qw & \qw & \qw\\ 
	 	\nghost{ {aux}_{1} :  } & \lstick{ {aux}_{1} :  } & \qw & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{6} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{6} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{6} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{6} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{6} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{6} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{6} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{6} & \qw & \qw & \qw\\ 
	 	\nghost{ {aux}_{2} :  } & \lstick{ {aux}_{2} :  } & \qw & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{7} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{7} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{7} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{7} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{7} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{7} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{7} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{7} & \qw & \qw & \qw\\ 
	 	\nghost{ {aux}_{3} :  } & \lstick{ {aux}_{3} :  } & \qw & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{8} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{8} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{8} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{8} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{8} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{8} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{8} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{8} & \qw & \qw & \qw\\ 
	 	\nghost{ {aux}_{4} :  } & \lstick{ {aux}_{4} :  } & \qw & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{9} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{9} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{9} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{9} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{9} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{9} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{9} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<{9} & \qw & \qw & \qw\\ 
	 	\nghost{ {aux}_{5} :  } & \lstick{ {aux}_{5} :  } & \qw & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<<{10} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<<{10} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<<{10} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<<{10} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<<{10} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<<{10} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<<{10} & \ghost{\mathrm{cmult\_a\_mod\_N}}_<<<<{10} & \qw & \qw & \qw\\ 
\\ }}
\end{document}