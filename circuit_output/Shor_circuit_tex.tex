\documentclass[border=2px]{standalone}
        
\usepackage[braket, qm]{qcircuit}
\usepackage{graphicx}

\begin{document} 
\scalebox{1.0}{
\Qcircuit @C=1.0em @R=0.2em @!R { \\
	 	\nghost{ {up}_{0} :  } & \lstick{ {up}_{0} :  } & \gate{\mathrm{H}} & \multigate{17}{\mathrm{2\string^x\,mod\,15}}_<<<{0} & \multigate{7}{\mathrm{IQFT}}_<<<{0} & \qw & \qw\\ 
	 	\nghost{ {up}_{1} :  } & \lstick{ {up}_{1} :  } & \gate{\mathrm{H}} & \ghost{\mathrm{2\string^x\,mod\,15}}_<<<{1} & \ghost{\mathrm{IQFT}}_<<<{1} & \qw & \qw\\ 
	 	\nghost{ {up}_{2} :  } & \lstick{ {up}_{2} :  } & \gate{\mathrm{H}} & \ghost{\mathrm{2\string^x\,mod\,15}}_<<<{2} & \ghost{\mathrm{IQFT}}_<<<{2} & \qw & \qw\\ 
	 	\nghost{ {up}_{3} :  } & \lstick{ {up}_{3} :  } & \gate{\mathrm{H}} & \ghost{\mathrm{2\string^x\,mod\,15}}_<<<{3} & \ghost{\mathrm{IQFT}}_<<<{3} & \qw & \qw\\ 
	 	\nghost{ {up}_{4} :  } & \lstick{ {up}_{4} :  } & \gate{\mathrm{H}} & \ghost{\mathrm{2\string^x\,mod\,15}}_<<<{4} & \ghost{\mathrm{IQFT}}_<<<{4} & \qw & \qw\\ 
	 	\nghost{ {up}_{5} :  } & \lstick{ {up}_{5} :  } & \gate{\mathrm{H}} & \ghost{\mathrm{2\string^x\,mod\,15}}_<<<{5} & \ghost{\mathrm{IQFT}}_<<<{5} & \qw & \qw\\ 
	 	\nghost{ {up}_{6} :  } & \lstick{ {up}_{6} :  } & \gate{\mathrm{H}} & \ghost{\mathrm{2\string^x\,mod\,15}}_<<<{6} & \ghost{\mathrm{IQFT}}_<<<{6} & \qw & \qw\\ 
	 	\nghost{ {up}_{7} :  } & \lstick{ {up}_{7} :  } & \gate{\mathrm{H}} & \ghost{\mathrm{2\string^x\,mod\,15}}_<<<{7} & \ghost{\mathrm{IQFT}}_<<<{7} & \qw & \qw\\ 
	 	\nghost{ {down}_{0} :  } & \lstick{ {down}_{0} :  } & \gate{\mathrm{X}} & \ghost{\mathrm{2\string^x\,mod\,15}}_<<<{8} & \qw & \qw & \qw\\ 
	 	\nghost{ {down}_{1} :  } & \lstick{ {down}_{1} :  } & \qw & \ghost{\mathrm{2\string^x\,mod\,15}}_<<<{9} & \qw & \qw & \qw\\ 
	 	\nghost{ {down}_{2} :  } & \lstick{ {down}_{2} :  } & \qw & \ghost{\mathrm{2\string^x\,mod\,15}}_<<<<{10} & \qw & \qw & \qw\\ 
	 	\nghost{ {down}_{3} :  } & \lstick{ {down}_{3} :  } & \qw & \ghost{\mathrm{2\string^x\,mod\,15}}_<<<<{11} & \qw & \qw & \qw\\ 
	 	\nghost{ {aux}_{0} :  } & \lstick{ {aux}_{0} :  } & \qw & \ghost{\mathrm{2\string^x\,mod\,15}}_<<<<{12} & \qw & \qw & \qw\\ 
	 	\nghost{ {aux}_{1} :  } & \lstick{ {aux}_{1} :  } & \qw & \ghost{\mathrm{2\string^x\,mod\,15}}_<<<<{13} & \qw & \qw & \qw\\ 
	 	\nghost{ {aux}_{2} :  } & \lstick{ {aux}_{2} :  } & \qw & \ghost{\mathrm{2\string^x\,mod\,15}}_<<<<{14} & \qw & \qw & \qw\\ 
	 	\nghost{ {aux}_{3} :  } & \lstick{ {aux}_{3} :  } & \qw & \ghost{\mathrm{2\string^x\,mod\,15}}_<<<<{15} & \qw & \qw & \qw\\ 
	 	\nghost{ {aux}_{4} :  } & \lstick{ {aux}_{4} :  } & \qw & \ghost{\mathrm{2\string^x\,mod\,15}}_<<<<{16} & \qw & \qw & \qw\\ 
	 	\nghost{ {aux}_{5} :  } & \lstick{ {aux}_{5} :  } & \qw & \ghost{\mathrm{2\string^x\,mod\,15}}_<<<<{17} & \qw & \qw & \qw\\ 
\\ }}
\end{document}